function getHtml(e){return new Promise(((n,t)=>{const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(4===c.readyState)switch(c.status){case 200:case 0:try{const e=(new DOMParser).parseFromString(c.responseText,"text/html");n(e)}catch(e){t(e)}break;default:t(c)}},c.onerror=t,c.open("GET",e,!1),c.send()}))}function appendNode(e,n){if("SCRIPT"!==n.tagName)return void e.appendChild(n);const t=document.createElement("script");n instanceof HTMLScriptElement&&n.src&&(t.src=n.src),n instanceof HTMLScriptElement&&n.type&&(t.type=n.type),t.async=!1,t.innerHTML=n.innerHTML,n.parentElement?.removeChild(n),e.appendChild(t)}function injectApp(e,n){const t=new URL(location.href);return getHtml((t.origin+t.pathname).replace(/index\.html$/,"")+n).then((e=>{for(;e.head.children.length;)appendNode(document.head,e.head.children[0]);for(;e.body.children.length;)appendNode(document.body,e.body.children[0])}))}function runInjector(){injectApp("","content.html").then((()=>{console.info("[index] content.html successfully injected ...")})).catch((e=>console.info("[index] error at content.html injection ...",e)))}